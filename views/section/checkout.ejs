<%- layout('boilerplate/boilerplate') -%>
<main>
  <section id="order-menu">
    <%- include('../partials/flash') %>
    <h1 class="text-center">Order Checkout</h1>
    <form action="/order" method="post" class="form-menu">
      <input type="hidden" name="cartId" value="<%= cart.id %>">
      <div class="mb-3 menu">
        <label class="form-label">Menu</label>
        <p><%= cart.menuTitle %> - <%= cart.menuDate %></p>
        <input type="hidden" name="menuId" value="<%= cart.menu %>">
      </div>
      <div class="mb-3 quantity">
        <label for="quantity" class="form-label">Quantity</label>
        <input type="number" class="form-control" name="quantity" id="quantity" min="1" value="<%= cart.quantity %>" required>
      </div>
      <div class="mb-3 payment-method">
        <label for="payMethod" class="form-label">Payment Method</label>
        <select name="paymentMethod" id="payMethod" class="form-select">
          <option value="choose" selected>Choose Payment Method</option>
          <option value="COD">Cash on Delivery (COD)</option>
          <option value="Card">Pay via debit / credit card</option>
        </select>
      </div>
      <div class="mb-3 order-message">
        <label for="message" class="form-label">Message (optional)</label>
        <% if(cart.message === ''){ %>
          <textarea name="message" id="message" rows="3" class="form-control" placeholder="null"></textarea>
        <% } else { %>  
          <textarea name="message" id="message" rows="3" class="form-control"><%= cart.message %></textarea>
        <% } %> 
      </div>
      <div class="mb-3 total-price">
        <label for="total-price" class="form-label">Total Prices</label>
        <p id="total-price">Rp <%= dotTotalPrices(cart.totalPrices) %>,00</p>
      </div>
      <div class="mb-3 submit-order">
        <button class="btn btn-lg text-white" id="checkout-btn">Checkout</button>
      </div>
    </form>
    <div class="mt-3">
      <a class="btn btn-danger btn-lg text-white" href="/cart">Cancel</a>
    </div>
  </section>
</main>